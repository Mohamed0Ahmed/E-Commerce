<!-- * -->
<!-- * -->
<!-- * -->
<!-- * -->

<!-- * #### main slider -->

<app-main-slider></app-main-slider>

<!-- *#### -->

<!-- *################### -->

<section>
  <div
    class="container-fluid py-3 position-relative w-100 d-flex justify-content-center"
  >
    <img src="./assets/images/seerch.jpeg" class="se" />
    <div class="search">
      <input
        type="search"
        class="form-control input"
        placeholder="Search....."
        [(ngModel)]="serchTerm"
      />
      <i
        class="fa-solid fa-magnifying-glass fa-xl ic"
        style="color: #000000"
        aria-hidden="true"
      ></i>
    </div>
  </div>
  <div class="container">
    <div class="row g-4">
      <div
        class="col-md-4"
        *ngFor="
          let product of productData
            | paginate
              : {
                  id: 'foo',
                  itemsPerPage: pageSize,
                  currentPage: currentPage,
                  totalItems: total
                }
            | search : serchTerm
        "
      >
        <div class="product p-5 h-100 position-relative cursor-pointer">
          <div [routerLink]="['/details', product._id]">
            <p class="h5 text-main text-center">{{ product.category.name }}</p>
            <img
              [src]="product.imageCover"
              class="w-100"
              [alt]="product.title"
            />
          </div>
          <div class="d-flex justify-content-between">
            <h3 class="h5 fw-bold">
              {{ product.title.split(" ").slice(0, 2).join(" ") }}
            </h3>
            <ul class="d-flex p-0">
              <h3 class="fw-bold text-main">
                {{ product.price }} <span class="fw-bold">EGP</span>
              </h3>
            </ul>
          </div>
          <div class="info">
            <i
              class="fa-solid fa-cart-shopping fa-2x"
              style="color: #606366"
              (click)="addCart(product._id)"
            ></i>
            <i
              class="fa-solid fa-heart fa-2x my-5"
              [style.color]="
                wishlistData.includes(product._id) ? 'red' : 'black'
              "
              (click)="addOrRemove(product._id)"
            ></i>
            <i
              class="fa-solid fa-magnifying-glass fa-xl"
              style="color: #020305"
              [routerLink]="['/details', product._id]"
            ></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex align-items-center justify-content-center mt-4">
    <pagination-controls
      id="foo"
      (pageChange)="pageChanged($event)"
      (pageBoundsCorrection)="pageChanged($event)"
      [maxSize]="9"
      [directionLinks]="true"
      [autoHide]="true"
      [responsive]="true"
      previousLabel="Previous"
      nextLabel="Next"
      screenReaderPaginationLabel="Pagination"
      screenReaderPageLabel="page"
      screenReaderCurrentLabel="You're on page"
    >
    </pagination-controls>
  </div>
</section>
